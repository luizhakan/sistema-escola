<div class="container flex flex-col p-4 w-full md:w-2/3 lg:w-3/4 xl:w-4/5">
  <app-entrada-pesquisa
    (filtroAplicado)="filtrarAlunos()"
    class="mb-4"
  ></app-entrada-pesquisa>

  <h2 class="text-lg font-bold mb-4">Matrículas</h2>

  <div class="overflow-x-auto">
    <div class="inline-block min-w-full overflow-hidden align-middle">
      <table class="min-w-full border-collapse border mb-4">
        <thead>
          <tr class="bg-gray-200">
            <th class="border p-2">Selecionar</th>
            <th class="border p-2">Código</th>
            <th class="border p-2">Nome</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="dadosFormatados.length > 0; else semAlunos">
            <tr
              *ngFor="let row of dadosFormatados; let i = index"
              class="odd:bg-gray-100"
            >
              <td class="border p-2">
                <input
                  type="radio"
                  [checked]="alunosSelecionados[i]"
                  (change)="alunoSelecionadoChanged(i)"
                  class="form-radio"
                />
              </td>
              <td class="border p-2">{{ row.codigo }}</td>
              <td class="border p-2">{{ row.nome }}</td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>

  <ng-template #semAlunos>
    <p>Não há alunos disponíveis.</p>
  </ng-template>

  <div class="flex flex-col md:flex-row md:justify-between">
    <app-botao
      texto="Ver Matrículas"
      [routerLink]="['/adicionarMatriculas']"
      class="w-full md:w-1/3 mb-2 md:mb-0"
      [disabled]="!hasSelectedAluno()"
    ></app-botao>
  </div>
</div>
